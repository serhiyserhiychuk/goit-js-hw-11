{"version":3,"file":"commonHelpers.js","sources":["../src/js/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport simpleLightbox from 'simplelightbox';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.image-form');\nconst input = document.querySelector('.image-input');\nconst submitBtn = document.querySelector('.image-button');\nconst list = document.querySelector('.image-list');\nconst loader = document.querySelector('#loader-span');\n\nlet gallery = new SimpleLightbox('.image-list a', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', submitHandler);\n\nfunction submitHandler(event) {\n  event.preventDefault();\n  const options = {\n    key: '41498783-400257af4926549016a2deb3f',\n    q: input.value.toString(),\n    type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  loader.classList.replace('is-hidden', 'loader');\n\n  fetch(\n    `https://pixabay.com/api/?key=${options.key}&q=${options.q}&type=${options.type}&orientation=${options.orientation}&safesearch=${options.safesearch}`,\n    options\n  )\n    .then(responce => {\n      if (!responce.ok) {\n        throw new Error(responce.status);\n      }\n      return responce.json();\n    })\n    .then(responce => {\n      list.innerHTML = '';\n      if (responce.total === 0) {\n        iziToast.error({\n          class: 'errorMessage',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: 'white',\n          messageSize: '16px',\n          messageLineHeight: '1.5',\n          backgroundColor: 'red',\n          theme: 'light',\n          color: 'red',\n          position: 'topRight',\n        });\n      } else {\n        const images = responce.hits.map(\n          image =>\n            `<a href=\"${image.largeImageURL}\"\n            <li class=\"photo-card\">\n            <img class=\"photo\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n            <div class=\"card-container\">\n            <p>Likes</p>\n            <p>Views</p>\n            <p>Comments</p>\n            <p>Downloads</p>\n            </div>\n            <div class=\"card-container\">\n            <p>${image.likes}</p>\n            <p>${image.views}</p>\n            <p>${image.comments}</p>\n            <p>${image.downloads}</p>\n            </div>\n            </li>\n            </a>`\n        );\n        list.insertAdjacentHTML('afterbegin', images);\n        gallery.refresh();\n        loader.classList.replace('loader', 'is-hidden');\n        input.value = '';\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n"],"names":["form","input","list","loader","gallery","SimpleLightbox","submitHandler","event","options","responce","iziToast","images","image","error"],"mappings":"6vBAMA,MAAMA,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAQ,SAAS,cAAc,cAAc,EACjC,SAAS,cAAc,eAAe,EACxD,MAAMC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAS,SAAS,cAAc,cAAc,EAEpD,IAAIC,EAAU,IAAIC,EAAe,gBAAiB,CAChD,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAEDL,EAAK,iBAAiB,SAAUM,CAAa,EAE7C,SAASA,EAAcC,EAAO,CAC5BA,EAAM,eAAc,EACpB,MAAMC,EAAU,CACd,IAAK,qCACL,EAAGP,EAAM,MAAM,SAAU,EACzB,KAAM,QACN,YAAa,aACb,WAAY,EAChB,EAEEE,EAAO,UAAU,QAAQ,YAAa,QAAQ,EAE9C,MACE,gCAAgCK,EAAQ,SAASA,EAAQ,UAAUA,EAAQ,oBAAoBA,EAAQ,0BAA0BA,EAAQ,aACzIA,CACD,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKA,GAAY,CAEhB,GADAP,EAAK,UAAY,GACbO,EAAS,QAAU,EACrBC,EAAS,MAAM,CACb,MAAO,eACP,QACE,2EACF,aAAc,QACd,YAAa,OACb,kBAAmB,MACnB,gBAAiB,MACjB,MAAO,QACP,MAAO,MACP,SAAU,UACpB,CAAS,MACI,CACL,MAAMC,EAASF,EAAS,KAAK,IAC3BG,GACE,YAAYA,EAAM;AAAA;AAAA,sCAEQA,EAAM,sBAAsBA,EAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAQvDA,EAAM;AAAA,iBACNA,EAAM;AAAA,iBACNA,EAAM;AAAA,iBACNA,EAAM;AAAA;AAAA;AAAA,iBAIvB,EACQV,EAAK,mBAAmB,aAAcS,CAAM,EAC5CP,EAAQ,QAAO,EACfD,EAAO,UAAU,QAAQ,SAAU,WAAW,EAC9CF,EAAM,MAAQ,EACf,CACP,CAAK,EACA,MAAMY,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL"}